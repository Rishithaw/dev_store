<%= form_with model: [:admin, @product], local: true do |f| %>

  <p>
    <%= f.label :name %><br>
    <%= f.text_field :name %>
  </p>

  <p>
    <%= f.label :description %><br>
    <%= f.text_area :description %>
  </p>

  <p>
    <%= f.label :category_id, "Category" %><br>
    <%= f.collection_select :category_id, Category.all, :id, :name %>
  </p>

  <p>
    <%= f.label :base_price %><br>
    <%= f.number_field :base_price, step: 0.01 %>
  </p>

  <p>
    <%= f.label :on_sale %>
    <%= f.check_box :on_sale %>
  </p>

  <p>
    <%= f.label :sale_price %><br>
    <%= f.number_field :sale_price, step: 0.01 %>
  </p>

  <p>
    <%= f.label :stock_quantity %><br>
    <%= f.number_field :stock_quantity %>
  </p>

  <p>
    <%= f.label :product_type %><br>
    <%= f.select :product_type, ["physical", "digital"] %>
  </p>

  <p>
    <%= f.label :image, "Product Image" %><br>
    <%= f.file_field :image %>

    <% if @product.image.attached? %>
      <p>Current:</p>
      <%= image_tag @product.image.variant(resize_to_limit: [120, 120]).processed %>
    <% end %>
  </p>

  <%= f.submit %>
<% end %>
